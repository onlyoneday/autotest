*** Settings ***

Documentation   用户管理-超级管理员-编辑用户-正常
Resource        ../common/resources.txt
Resource        ../common/user_resources.txt
Suite Setup     Open Browser And Login Adm
Test Setup      Go To Page   ${USER_MANU URL}
Suite Teardown  Close All Browsers

*** Test Cases ***

#用户管理-超级管理员-创建用户-属于多个组
G-014
	Create User     ${TEST ID}  U  u@u.cn  ${STR 8}  ${STR 8}  ${EMPTY}  ${EMPTY}
	Select User Group     ${MMJ GROUP}  member
	Select User Group2    ${TGROUP}     member
	Click And Wait  submit-create-user

#查看用户信息/修改用户信息
G-021/022
	Edit User Info  ${TEST ID}
	Input Text	    input-name              testU
	Input Text	    input-email             testu@u.cn
	Input Text	    input-userDescription   test
	Click And Wait  submit-update-user
	Result User     ${TEST ID}  testU  testu@u.cn  test

#删除
Delete Test User After Edition
	Delete User     ${TEST ID}

*** Keywords ***
Result User
	[Arguments]     ${id}  ${username}  ${useremail}  ${userdscp}
	#验证用户信息
	${index} =      Get User Index  ${id}
	${path12} =     Evaluate   '//*[@id="user-list-table"]/tbody/tr['+'${index}'+']/td[1]/i/small'
	${path2} =      Evaluate   '//*[@id="user-list-table"]/tbody/tr['+'${index}'+']/td[2]'
	${email} =      Get Text    ${path12}
	${name} =       Get Text    ${path2}
	Should Be Equal As Strings  ${email}   ${useremail}
	Should Be Equal As Strings  ${name}    ${username}

