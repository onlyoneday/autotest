*** Settings ***

Documentation   超级管理员-查看任意集群任意主机
Resource        ../common/resources.txt
Resource        ../common/cluster_resources.txt
Suite Setup     Open Browser And Login Adm
Suite Teardown  Close All Browsers

*** Test Cases ***

G-098/G-119
	@{path} =     Get WebElements  //section/header/h3/a
	${index} =    Get Length   ${path}
	:FOR  ${li}   IN RANGE  ${index}
	\             Check Cluster  ${li}
	\             Check Node

*** Keywords ***

Check Cluster
	[Arguments]   ${index}
	${index} =    Evaluate  ${index}+2
	${path} =     Evaluate  'section:nth-child('+'${index}'+') > header > h3 > a'
	Click And Wait  css=${path}   
	Page Should Contain  集群详情
	
Check Node
	${row} =      Get Matching Xpath Count   //table/tbody/tr[*]
	${noderow} =  Evaluate   ${row}+1
	:FOR  ${lr}   IN RANGE   1   ${noderow}
	\     ${link} =      Evaluate   '//table/tbody/tr['+'"${lr}"'+']/td[2]/a'
	\	  Click Element  ${link}   
	\     Page Should Contain  主机详情
	\     Go Back
	Go To Page    ${HOME URL}
