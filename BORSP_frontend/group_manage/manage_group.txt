*** Settings ***

Documentation   用户组管理-超级管理员-管理用户组
Resource        ../common/resources.txt
Resource        ../common/group_resources.txt
Resource        ../common/cluster_resources.txt
Resource        ../common/app_resources.txt
Suite Setup     Open Browser And Login Adm
Test Setup      Go To Page   ${USER_MANG URL}
Suite Teardown  Close All Browsers

*** Test Cases ***

#测试前准备
Creat Test Group For Edition
	Input Group     ${TEST GRP}   ${EMPTY}
	Click Element   submit-create-user
	Input Group     ${TEST ID}    ${EMPTY}
	Click Element   submit-create-user

#添加多个组成员/将一个用户加入多个用户组
G-073/75
	Manage Group    ${TEST GRP}  2
	Add Group User  ${MMJ DBID}  member
	Add Group User  ${GM DBID}   member
	Page Should Contain   ${MMJ USER} 
	Page Should Contain   ${GM USER}
	Page Should Contain   组成员    

#添加多个组管理员/将一个用户加入多个用户组
G-074/75
	Manage Group    ${TEST ID}   2
	Add Group User  ${MMJ DBID}  owner
	Add Group User  ${GM DBID}   owner
	Page Should Contain   ${MMJ USER} 
	Page Should Contain   ${GM USER}
	Page Should Contain   组管理员

#删除有用户的用户组
G-083
	Delete Group    ${TEST GRP}
	Page Should Contain    there are users in group
	
Creat Test App For Edition
	Go To Page       ${HOME URL} 
	Input Cluster    ${TEST CLU}  ${TEST GRP}  ${TEST CLU}
	Click And Wait   submit-create-cluster
	Logout
	Login Mmj
	Click Element    select_value_label_0
    Click Element    xpath=//*[@aria-hidden="false"]/md-select-menu/md-content/md-option/div[contains(text(),'GroupForEditing')]
	Go To Page       ${APP_CREATE URL} 
	Create App       ${TEST APP}  ${TEST CLU}
	Click And Wait   stackFormCreate
	Logout
	Login Adm

#删除无应用/有应用的组成员
G-076/077
	Manage Group    ${TEST GRP}  2
	Delete Group User    ${MMJ USER} 
	Delete Group User    ${GM USER}

#删除所有的组管理员
G-078
	Manage Group    ${TEST ID}   2
	Delete Group User    ${MMJ USER} 
	Delete Group User    ${GM USER}

#删除无用户的用户组
G-082
	Delete Group    ${TEST GRP}
	Delete Group    ${TEST ID}

#删除没有主机有应用的集群
G-103
	#Go To Page      ${HOME URL}
	#Delete Cluster  ${TEST CLU}
	#Page Should Contain

#删除应用
Delete Test App For Edition
	Go To Page      ${APP_ALL URL}
	Delete App By Name  ${TEST APP}
	Go To Page      ${HOME URL}
	Delete Cluster  ${TEST CLU} 

