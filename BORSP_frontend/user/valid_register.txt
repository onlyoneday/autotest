*** Settings ***

Documentation   注册新用户、注销新用户
Resource        ../common/resources.txt
Suite Setup     Open Browser And Login Mmj
Suite Teardown  Close All Browsers

*** Test Cases ***

user_2,3,13
    ${email name} =    Get Lower String
    ${email} =   Evaluate  '${email name}'+'@test.com'
    #注册新用户
    Go To Page    ${USER_U URL}   
    Click Link    to-create-user
    Input Text    Email      ${email}
    Input Text    Password   ${MMJ PASSWD} 
    Click Button  submit-create-user
    Location Should Be       ${USER_U URL} 
    Page Should Contain      ${email}
    Logout
    #新用户登录
    Login  ${email}  ${MMJ PASSWD} 
    #注销新用户
    Go To Page    ${USER_U URL}  
    ${index} =    Get Matching Xpath Count   //*[@id="user-list"]/tbody/tr[*] 
    ${cancel xpath} =   Evaluate   '//*[@id="user-list"]/tbody/tr['+'${index}'+']/td/button'
    Click Button  xpath=${cancel xpath}
    Logout
    #新用户登录
    Login  ${email}  ${MMJ PASSWD} 
    Location Should Be   ${LOGIN URL}
  

