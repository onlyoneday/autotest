*** Settings ***

Documentation  A resource file containing the specific keywords and variables for application
Library        Selenium2Library
Library        String

*** Variables ***

${SERVER}                http://192.168.1.155:5013/ui
${BROWSER}               Firefox
#${FF_PROFILE}            /Users/mmj/Library/Application  Support/Firefox/Profiles/6s2nko1b.default
${DELAY}                 0.1
${SLEEP TIME}            5
${SLEEP LONG TIME}       30

#--------------------URL--------------------
${LOGIN URL}             ${SERVER}/auth/login
${HOME URL}              ${SERVER}/cluster/list
${APP_MY URL}            ${SERVER}/app/list/my
${APP_ALL URL}           ${SERVER}/app/list/all
${APP_CREATE URL}        ${SERVER}/app/create
${NODE URL}              ${SERVER}/node/list&clusterInfo
${RSTACK URL}            ${SERVER}/rolexStack/list
${USER_ME URL}           ${SERVER}/user/aboutme
${USER_PWD URL}          ${SERVER}/user/password
${USER_RG URL}          ${SERVER}//user/registry
${USER_MANU URL}         ${SERVER}/user-manage/list/user
${USER_MANG URL}         ${SERVER}/user-manage/list/group

#--------------------LOCATION----------------
${LOGIN BTN}             login-btn-login
${USERNAME FIELD}        //input[@name="userName"]
${PASSWORD FIELD}        //input[@name="Password"]

#--------------------USER--------------------
${VALID USER}            administratormmj
${VALID PASSWD}          Dataman1234

${MMJ USER}              mmj
${MMJ PASSWD}            M12345678
${MMJ DBID}              122
${MMJ GROUP}             groupmmj
${MMJ CLUSTER}           clustermmj

${GM USER}               groupmanager   
${GM PASSWD}             M1234567
${GM DBID}               123

${SUPER}                 SuperGroup

${TEST ID}               userForEditing
${TEST EML}              userforediting@u.com
${TEST GRP}              groupforediting
${TEST CLU}              clusterforediting
${TEST APP}              applicationforediting

${RG IMAGE}              demoregistry.dataman-inc.com/zhfang/blackicebird-2048
${RG ADD}                demoregistry.dataman-inc.com
${RG NAME}               zhfang
${RG PWD}                Fzh12345

#--------------------STRING------------------
${CMD TEXT}              while [ true ]; do echo BORSP; sleep 10; done

${STR 7}                 M012345
${STR 8}                 M0123456
${STR 16}                M012345678901234
${STR 17}                M0123456789012345
${STR 49}                0123456789012345678901234567890123456789012345678

${STR 255}               012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234
${STR 256}               0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345
${EML 255}               0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789@d.cn
${EML 256}               01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890@d.cn



*** Keywords ***
Open Browser To Login Page
    Set Selenium Speed  ${DELAY}
    Open Browser  ${LOGIN URL}  ${BROWSER}  #ff_profile_dir=${FF_PROFILE}

Go To Page  
    [Arguments]  ${URL}
    Go To   ${URL}
    Sleep   ${SLEEP TIME} 

Click And Wait  
    [Arguments]  ${ELEMENT}
    Click Element  ${ELEMENT}
    Sleep   ${SLEEP TIME}

Get Lower String
    ${Random} =    Generate Random String    6
    ${Name} =   Convert To Lowercase  ${Random}
    [Return]    ${Name}

Result Web
    [Arguments]     ${CSS}  ${WEBMSG}
    ${TEXT} =       Get Text  css=${CSS}
    Should Be Equal As Strings    ${TEXT}   ${WEBMSG}
    Element Should Be Visible     css=${CSS}

Result Api
    [Arguments]     ${LOC}  ${APIMSG}
    Click Element   ${LOC}
    Page Should Contain     ${APIMSG}

#--------------------LOGIN------------------
Open Browser And Login Adm
    Open Browser To Login Page
    Login Adm

Open Browser And Login Gm
    Open Browser To Login Page
    Login Gm

Open Browser And Login Mmj
    Open Browser To Login Page
    Login Mmj

Login Adm
    Login   ${VALID USER}   ${VALID PASSWD} 
    #Choose Group    ${SUPER} 

Login Gm
    Login   ${GM USER}   ${GM PASSWD}    

Login Mmj
    Login   ${MMJ USER}  ${MMJ PASSWD}

Login  
    [Arguments]     ${USER}   ${PASSWD}
    Input Text      ${USERNAME FIELD}   ${USER}
    Input Text      ${PASSWORD FIELD}   ${PASSWD}
    Click Button    ${LOGIN BTN}
    Sleep  ${SLEEP TIME}

Choose Group
    [Arguments]     ${GROUP} 
    Click Element   select_value_label_0
    Click Element   ${GROUP}

Logout
    Click Button  open-user-menu
    Click Button  logout
    Sleep  ${SLEEP TIME} 

    