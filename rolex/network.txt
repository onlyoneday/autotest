
*** Settings ***

Documentation  A test suite with a single test for valid login. This test has
...            a workflow that is created using keywords from the resource file.
Resource       common.txt
#Test Teardown  Close Browser

*** Variables ***
${Create Network Url}				/network/create

${Network Table}					css=.md-table
${Network Link}						//li[@title="网络"]/a
${Create Network Link}				//a[@href="/network/create"]

${Network Name Input}				//input[@name="name"]
${Subnet mask Input}				//input[@name="Subnet"
${Gateway Input}					input[@name="Gateway"]
${IPRange Input}					input[@name="IPRange"]
${Inter Net Radio}					id="radio_2"
${Extra Net Radio}					id="radio_3"
${Create Tag Button}				//button[@class="md-raised md-success md-small md-button md-ink-ripple"]
${Confirm Create Network Button}	//button[@class="md-raised md-primary md-button md-ink-ripple"]
${Concel Create Network Button}		//button[@class="md-raised md-button md-ink-ripple"]

*** Keywords ***
Check Network Exist
	[Arguments]		${name}		${subnet}		${gateway}		${iprange}		${type}
    Table Column Should Contain		${Network Table}	2	${name}
    Table Column Should Contain		${Network Table}	3	overlay
    Table Column Should Contain		${Network Table}	4	${type}
    Table Column Should Contain		${Network Table}	5	${subnet}
    Table Column Should Contain		${Network Table}	6	${gateway}
    Table Column Should Contain		${Network Table}	7	${iprange}

*** Test Cases ***
Check Click Network Link
	[Tags]	1
	Open Browser And Login With Admin
	Click Link	${Network Link}
	#Network Page Should Be Open

Check Network Table
	[Tags]	2
	Open Browser And Login With Admin
	Go To Network Page

    Table Header Should Contain		${Network Table}	ID
    Table Header Should Contain		${Network Table}	名称
    Table Header Should Contain		${Network Table}	类型
    Table Header Should Contain		${Network Table}	内部网络
    Table Header Should Contain		${Network Table}	子网掩码
    Table Header Should Contain		${Network Table}	网关
    Table Header Should Contain		${Network Table}	IP 范围
    Table Header Should Contain		${Network Table}	操作

    Table Row Should Contain	${Network Table}	1	ingress
    Table Row Should Contain	${Network Table}	1	overlay

Create Network
	[Tags]	3
	Open Browser And Login With Admin
	Go To Network Page
	${network name}=	Generate Random String    6
    Click Link			${Create Network Link}
    Location Should Be  ${Server}${Create Network Url}
    Input Text			${Network Name Input}		${network name}
    Click Button 		${Confirm Create Network Button}
    Sleep				${SLEEP TIME}
    Check Network Exist		${network name}		${EMPTY}	${EMPTY}	${EMPTY}	是

    









